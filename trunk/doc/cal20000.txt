진짜만세력 V0.93안내

http://afnmp3.homeip.net/~kohyc/calendar/index.cgi
http://afnmp3.homeip.net:81/~kohyc/calendar/index.cgi

***** 개요 

이 만세력은 절기시간과 합삭시간을 정밀하게 계산하여 만든 만세력입니다.
유효기간은 -10000년부터 10000년까지의 기간입니다.
표시방법은 그레고리오력기준,  한달단위로 표시하며, 유효기간동안의 
그레고리오력면상에 일진,음력날짜,일식여부,24절기가 표시합니다.
또, 해당날자를 마우스로 클릭하면 그날의 양력일자,요일,28수,음력,음력월의
대소,평/윤, 해당일에서 가장 가까운 과거절기, 중기, 미래절기의 입기시간과
달의 합삭시간,망시간 및 황백교점과 해당시점의 태양의 황경차이가 표시됩니다.

아래 기술된 각종 사항은 유효기간 전범위(-10000년~10000년)에 적용되는 
사항입니다.

이 프로그램은 공개소프트웨어로 누구나 자유롭게 사용할 수 있습니다.


*****  버전 안내 

0.91 : 최초버전


0.92 : 24절기시간 개선, 일식추가, 처리속도 개선

   - 24절기입기시간의 오차를 최대 2시간에서 최대 20분으로 줄임.
   - 일식관련 사항을 추가. 
   - 0.91버전 에서는 기점(1996년)으로부터 멀어질수록 응답속도가 느렸지만 
     응답속도를 획기적으로 빠르게 개선함.


0.93 : 유효기간과 망(음력 보름)관련 데이터 추가

   - 유효기간을 기존 -2085년부터 6077년에서 -10000년부터 10000년까지로 확대
     이 확대는 델파이의 64비트 정수를 사용해서 가능해졌습니다.
     -10000년부터 현재까지의 과거시점 계산시간은 전구간에서 동일합니다.
     하지만, 현재부터 10000년까지의 미래시점 계산시간은 년도가 커질수록 
     길어집니다.
   - 망(음력보름)시간이 추가되었습니다. 
     이와 함께 해당 보름날의 월식여부도 추가되었습니다.
     합삭시간과 망시간 다음에 나오는 소수점 2자리의 실수는 황백교점과 해당시점의
     태양의 황경과의 각도 차이로 각도차이의 범위는 -90~+90도 입니다.



***** 사용전에 반드시 알아야 할 사항 *****

- 아래 오차 범위에서도 언급하겠지만 이 만세력상의 역일과 실제 역일이 다를수
있습니다.  진짜 만세력은 모든 날짜를 계산에 의하여 결정합니다. 하지만 
계산/예측과 실제는 다를수 있다는것을 유념하고 사용하시기 바랍니다.
그 다른 날짜들 중에서도 특히 음력초하루에 대한 차이와 음력 윤달의 차이에 
대하여 반드시 알고 사용하십시요.

- 기원전(BC)계산에서는 0년의 유무에 대해서 유의하여야 합니다.
역사상 BC 0년은 없고, BC 1년 다음해는 AD 1년입니다.
하지만 진짜만세력은 과학기술체계를 사용해서 AD1년의 바로전년도는 0년입니다.
0년의 전년도는 -1년입니다. 따라서 BC의 어떤 년도의 달력을 보려고 한다면
해당 년도에 1년을 더해야 합니다. 예를 들어 BC 5년의 달력을 보고자 한다면
년도의 입력부분에 -4년을 입력해야 합니다.

- 진짜만세력의 표기방법은 그레고리력입니다. 그레고리력으로의 개력이전(1583년이전)의
 날짜표현방법인 율리우스력을 그레고리력으로 환산하거나, 그레고리력을 율리우스력으로 
 환산하려면 다음표에 따른 날수를 보정해주어야 합니다.


A.D 4년 3월 이후   -2일            900년 3월 이후    5일
  100년 3월 이후   -1일           1000년 3월 이후    6일
  200년 3월 이후    0일           1100년 3월 이후    7일
  300년 3월 이후    1일           1300년 3월 이후    8일
  500년 3월 이후    2일           1400년 3월 이후    9일
  600년 3월 이후    3일           1500년 3월 이후   10일
  700년 3월 이후    4일           1583년 3월 이후   그레고리력으로 통일
(이 표는 역법의 원리분석 37페이지의 표입니다.)

참고로 A.D. 4년이전의 율리우스력은 로마황제들때문에 날짜계산이 엉망입니다.
따라서 A.D. 4년이전의 율리우스력은 A.D. 4년이후의 율리우스력과 호환되지
않습니다. 하지만 서양사람들은 A.D.4년 이전의 날짜도 A.D.4년 이후의 율리우스력과
호환되는 체계로 표시합니다. 그러므로 A.D.4년이전의 날짜계산에는 A.D 4년기준 -2일에
100년에 하루씩을 추가해서 보정해주면 됩니다.


* 음력 초하루 차이

 음력 매달 초하루의 기준은 합삭시간입니다. 이 합삭시간이 0시 주변에 
 걸쳐있을 경우 음력초하루가 역일과 다를수 있습니다. 
 미래의 초하루 역일은 그 시점에 근접한 시간에 그 이전 관측치를 종합하여
 계산하여 조금 더 정밀하게 예측한후  초하루를 결정하여야 합니다. 
 하지만 과거의 역일은 이미 지나가버린 시간으로, 이미 역일이 결정되어 
 버렸기 때문에 과거의 역일이 잘못되었다고 수정할수는 없습니다.
 이 만세력의 사용자 여러분께서는 합삭시간이 0시 주변에 있을때 과거 역일과
 진짜만세력의 역일이 다를수 있다는것을 반드시 알고 사용하시기 바랍니다.
 (과거의 역일은 진짜만세력이 맞을수도 있고, 틀릴수도 있습니다.
  자세한 것은 오차범위를 참고하십시요..)
 음력 초하루의 날짜가 틀리면 그 달내내 음력일자가 하루씩 밀립니다. 하지만
 그 전달이나 다음달의 날짜는 정상입니다.

* 음력 윤달의 차이

 음력 윤달의 결정은 음력 초하루와 24절기의 중기에 의하여 결정됩니다.
 이 초하루 날짜나 중기의 날짜에 대한 오차때문에 윤달의 위치가 이동될수 
 있습니다.
 이 역시 미래의 윤달은 그 시점에 근접한 시점에서 다시 계산하여 결정해야 
 합니다. 하지만 과거의 윤달은 이미 결정되었으므로 수정할수 없습니다.
 어떤 태음월이 진짜만세력상에 윤달로 표시된다면, 그 윤달이 실제와 맞거나
 (역면상에 존재하거나), 적어도 그 태음월 전후3개월 이내에 윤달이 존재합니다.
 어떤 자료에 표시된 윤달이 진짜 만세력상에 나타나지 않으니 해당 자료가 
 잘못된 자료거나  진짜 만세력이 잘못된 것은 절대 아닙니다. 두세달 앞뒤를
 검색해보면 윤달을 찾을수 있습니다. 이때 가장 도움이 되는것은 日辰입니다.
 가능한한 일진과 함께 사용하시기 바랍니다.

그리고 초하루나 윤달은 평삭/정삭,정기/평기법에 따라 이동될수 있습니다.

참고로 진짜만세력에 의해 계산된 24절입기의 시점(날짜와 시간)과 합삭시점은 
거의 정확하기 때문에 실제 윤달은 진짜 만세력이 정확하지만, 기록상의 실제 
윤달은 2~3달 정도 빠르거나 늦을수 있습니다.


***** 계산관련 사항

진짜 만세력의 계산 기점은 태양력의 경우 丙子년 입춘시점 (1996년 2월 4일 22시 
8분) 이며, 1 회귀년의 길이는 유효기간 전구간에서 365.2423611일(=365일 5시간 
49분=525949분)로 계산하며,  태음력은 1995년 12월 31일의 달의 위치를 기점으로
계산하였습니다.
1회귀년의 길이는 실제보다 약 15초가량 큽니다. 이와 관련된 문의 사항은 저의 
홈페이지 게시판을 참고하거나 제게 전자우편으로 문의하십시오.

***** 오차관련 사항

태양력 계산의 오차는 그레고리오력이 3300년에 약 하루의 오차가 생기지만,
이 진짜만세력의 오차는 거의  없습니다.(아래 기타 참고 사항 참조)

오차의 범위를 자세하게 표현하면, 다음과 같습니다. 

24절기 시점의 오차 - 최대 20분이내,  평균 약 10분-표준편차 5분
합삭 시점의 오차 - 최대 40분 이내, 평균 약 20분-표준편차 10분
(위 오차 수치는 추정치이지만 실제와 크게 다르지 않습니다. 특히 균시차를
 고려한다면 오차가 거의 없다고 봐도 무방합니다.) 

합삭시간이나 중기시간이 0시를 기준으로 23시 59분일때와 0시1분일때는 날짜가
달라지게 됩니다. 이렇게 날짜가 달라지기 때문에 초하루나 윤달이 밀리는
현상이 발생합니다.


***** 기타 사항 

 - 한해의 근일점(소한 2~3일전) 부근에서 한태음월이 2개의 중기를 포함해서 
  생기는 음력월의 순서 및 윤달 불일치는 합리적인 방법에 의해 교정됩니다.

 - 이 프로그램을 만드는데 계산에 참고한 서적으로는 역법의 원리분석(이은성저,
  1985년 정음사발행)과 천문대 발행 역서(1988,1990,1992,1993,1996,1997,1998년)
  이며, 계산결과의 확인은 일교음양력(이은성엮음, 1982년 세종대왕기념사업회
  발행),삼국사기(김부식저),사기(사마천저),춘추(공자저)등을 통해 확인하였습니다.

 - 1태양년의 계산(24절기의 추산)은 제가 만든 방법에 따라 계산하였으며, 
   합삭시간의 계산은 브라운 월행표와 뉴컴의 태양표(역법의 원리분석 286페이지)를
   참고로 계산하였습니다.

 - '춘추'와 '삼국사기'에 나온 일식기록을 제가 직접 확인하였습니다.
   확인결과는 문헌상의 거의 모든 일식이 실제로 존재했고, 진짜만세력상에 나타나는
   것을 여러분들이 직접확인하실 수 있습니다.
   일진을 참고하여 진짜 만세력으로 조회를 한다면 그 당시의 역일을 모두 확인할수
   있으며, 일식을 확인할수 있습니다.

 - 이 프로그램이나 역법에 대한 정보는 http://user.chollian.net/~kohyc/calendar
  을 참고하거나 전자우편  kohyc@chollian.net로 문의하시기 바랍니다. 
  제가 사용하고 계산한 역법관련 자료와 방법을 위 홈페이지에서 보실수 있습니다.
  최근버전의 만세력은 위의 홈페이지에서 항상 구할수 있습니다.
  
 - 프로그램상에 오류가 있다면 위 전자우편으로 알려주시면 대단히 감사하겠습니다.


***** 사용법 및 표시 내용
 - 사용법 
  사용법은 아주 간단합니다. 년도(범위 -10000년~10000년)와 월(1월~12월)을 
  입력시키면 해당월의 내용이 표시됩니다. 입력시키는 년도와 월은 그레고리오력
  기준입니다.

 - 표시내용
   화면의 각 칸의 큰 숫자는 그레고리오력상의 날짜입니다.
   그 아래 음력일자와 일진,24절기가 표시됩니다.
   음력 표시는 현재의 태음태양력표시이며 우수정월을 기본으로 한 표시입니다.
   음력 초하루와 함께 '일식'혹은 '일식가능'이란 표시가 표현될수도 있는데
   일식이라고 표시된 날짜에는 반드시 일식이 있습니다.  일식가능이라고 표시된
   날짜에는 일식이 일어날 가능성이 크다는 표시입니다.
   일식관측지점은 그 달의 합삭시간을 참고하면 알수 있습니다.
   월식역시 '월식' 혹은 '월식가능'이란 표시가 표현됩니다. 월식이라고 표시된
   날짜에는 반드시 월식이 있고, '월식가능'이라고 표시된 날짜에는 월식이 일어날
   가능성이 크다는 표시입니다.

  날짜칸중에 글자부분이 아닌 흰공간을 누르면 해당일자 주변 정보를 알수 있습니다.
  그중에서 요일 옆에 표시되는 글자는 28수를 매일매일에 배당한 글자입니다.
  합삭시간 옆에 일식 혹은 일식가능이라고 나타난 날은 그 합삭시간에 일식이 있다는
  표시이고, 그 시간대가 정오무렵이라면 우리나라에서 관측가능한 일식입니다.
  망시간에 월식혹은 월식가능이라고 나타난 날에는 그 망시간에 월식이 있다는 
  표시이고, 그 시간대가 자정무렵이라면 우리나라에서 관측가능한 월식입니다.

  합삭시간과 망시간의 옆에 소수점 2자리의 실수가 표시되는데, 이 숫자는
  해당시점 태양과 달의 황경과 황백교점의 각도차이입니다.
  이 숫자는 360도의 각도표현으로 범위는 -90도에서 +90도이며, 이 숫자에 대한
  자세한 정보는 '역법의 원리분석' 306페이지 그림 10-4를 참조하십시오.
   
  화면에 표시되는 시간은 모두 동경135도(GMT+9시간)를 기준으로 한 시간입니다.


                                              1999년 9월 11일 丙寅일
                                                           고영창 씀
